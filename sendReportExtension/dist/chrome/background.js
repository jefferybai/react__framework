!function(e){function t(a){if(n[a])return n[a].exports;var i=n[a]={exports:{},id:a,loaded:!1};return e[a].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}var o=n(1),r=i(o),c=n(2),d=a(c);chrome.runtime.onInstalled.addListener(function(){chrome.declarativeContent.onPageChanged.removeRules(void 0,function(){chrome.declarativeContent.onPageChanged.addRules([{conditions:[new chrome.declarativeContent.PageStateMatcher({pageUrl:{hostContains:"paratera.com"}})],actions:[new chrome.declarativeContent.ShowPageAction]}])})}),chrome.runtime.onConnect.addListener(function(e){function t(t){e.postMessage({cmd:t.isSavePdf?r.COMMAND_SAVE_PDF_FAIL:r.COMMAND_SHOT_SCREEN_FAIL}),e.disconnect()}return e.name!=r.EXTENSION_ID?void e.disconnect():(e.postMessage({cmd:r.COMMAND_CONNECT_BG_INIT}),void e.onMessage.addListener(function(n){switch(n.cmd){case r.COMMAND_CONNECT_BG_INIT_DONE:d["default"].init();case r.COMMAND_SCROLLNEXT_DONE:chrome.tabs.captureVisibleTab(function(t){d["default"].push({dataurl:t,datasize:t.length,x:n.x,y:n.y}),e.postMessage({cmd:r.COMMAND_SCROLLNEXT})});break;case r.COMMAND_SCROLLDONE_COMPLETE:var a;a=n.isSavePdf?d["default"].generatePdf(n).then(function(t){n.config.saveAs&&t.save(n.config.saveAs.toString()),e.postMessage({cmd:r.COMMAND_SAVE_PDF_SUCCESS,attachments:[t.output("dataurlstring")]})}):d["default"].generate(n).then(function(t){e.postMessage({cmd:r.COMMAND_SHOT_SCREEN_SUCCESS,attachments:t})}),a.then(function(t){e.disconnect()})["catch"](t)}}))})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.EXTENSION_ID="iejbbakpjepnegplaaojckdnnfgbnpgg",t.COMMAND_CONNECT_BG_INIT="COMMAND_CONNECT_BG_INIT",t.COMMAND_CONNECT_BG_INIT_DONE="COMMAND_CONNECT_BG_INIT_DONE",t.COMMAND_SCROLLNEXT="COMMAND_SCROLLNEXT",t.COMMAND_SCROLLNEXT_DONE="COMMAND_SCROLLNEXT_DONE",t.COMMAND_SCROLLDONE_COMPLETE="COMMAND_SCROLLDONE_COMPLETE",t.COMMAND_SHOT_SCREEN="COMMAND_SHOT_SCREEN",t.COMMAND_SHOT_SCREEN_STARTED="COMMAND_SHOT_SCREEN_STARTED",t.COMMAND_SHOT_SCREEN_FAIL="COMMAND_SHOT_SCREEN_FAIL",t.COMMAND_SHOT_SCREEN_SUCCESS="COMMAND_SHOT_SCREEN_SUCCESS",t.COMMAND_SAVE_PDF="COMMAND_SAVE_PDF",t.COMMAND_SAVE_PDF_STARTED="COMMAND_SAVE_PDF_STARTED",t.COMMAND_SAVE_PDF_FAIL="COMMAND_SAVE_PDF_FAIL",t.COMMAND_SAVE_PDF_SUCCESS="COMMAND_SAVE_PDF_SUCCESS"},function(e,t){"use strict";function n(e){return new Promise(function(t,n){function a(e){e.dataurl=null,e.img=this,0==--r&&o()}function i(e){e.dataurl=null,0==--r&&o()}function o(){d?n(e):t(e)}var r=c.length,d=!1;c.forEach(function(e){var t=new Image;t.onload=a.bind(t,e),t.onerror=i.bind(t,e),t.src=e.dataurl})})}function a(e){var t=e.devicePixelRatio,n=(e.rows,e.cols,e.config),a=0,i=0,o=(e.width-(n.offsetLeft||0)-(n.offsetRight||0))*t,r=(e.height-(n.offsetTop||0)-(n.offsetBottom||0))*t,d=document.createElement("canvas"),s=d.getContext("2d");return d.width=Math.max(1,o),d.height=Math.max(1,r),c.forEach(function(e,r){var d=e.x,_=e.y,u=e.img,f=(u.width,u.height),C=(n.offsetLeft||0)*t,M=0,N=f;0==r&&(M=(n.offsetTop||0)*t,N=f-M,a=d,i=n.offsetTop||0,_=n.offsetTop||0),r==c.length&&(N=f-M);var E=(d-a)*t,O=(_-i)*t;s.drawImage(u,C,M,o,N,E,O,o,N)}),d}function i(e,t){var n=e.devicePixelRatio,a=document.createElement("canvas"),i=a.getContext("2d"),o=t.width,r=0,c=e.config.slice||[t.height],d=[];return c.forEach(function(c){var s=c*n;a.width=o,a.height=s,i.drawImage(t,0,r,o,s,0,0,o,s),r+=s,d.push({width:o,height:s,dataUrl:a.toDataURL(e.config.mimeType||"image/jpeg",parseFloat(e.config.quality)||.8)})}),d}function o(e,t){var n=new jsPDF("p","mm","a4",!1),a=r(),i=[25.4/a[0],25.4/a[1]],o=e.config.pdfPagePadding||[0,0,0,0];return t.forEach(function(e,t){var a=e.dataUrl,r=e.width*i[0],c=e.height*i[1];t>0&&n.addPage();var d=Math.min(210-o[1]-o[3],r),s=Math.min(297-o[0]-o[2],c),_=d/r,u=s/c;_>u?n.addImage(a,"jpg",o[3],o[0],r*u,s):n.addImage(a,"jpg",o[3],o[0],d,c*_)}),n}function r(){var e=new Array;if(void 0!=window.screen.deviceXDPI)e[0]=window.screen.deviceXDPI,e[1]=window.screen.deviceYDPI;else{var t=document.createElement("DIV");t.style.cssText="width:1in;height:1in;position:absolute;left:0px;top:0px;z-index:99;visibility:hidden",document.body.appendChild(t),e[0]=parseInt(t.offsetWidth),e[1]=parseInt(t.offsetHeight),t.parentNode.removeChild(t)}return e}Object.defineProperty(t,"__esModule",{value:!0});var c=[];t["default"]={init:function(){c=[]},push:function(e){c.push(e)},generate:function(e){return n(e).then(a).then(function(t){return Array.isArray(e.config.slice)?i(e,t).map(function(e){return e.dataUrl}):[t.toDataURL(e.config.mimeType||"image/jpeg",parseFloat(e.config.quality)||.8)]})["catch"](function(e){return Promise.reject(e)})},generatePdf:function(e){return n(e).then(a).then(i.bind(null,e)).then(o.bind(null,e))["catch"](function(e){return Promise.reject(e)})}}}]);